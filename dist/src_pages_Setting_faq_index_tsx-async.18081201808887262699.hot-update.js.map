{"version":3,"sources":["src_pages_Setting_faq_index_tsx-async.18081201808887262699.hot-update.js","src/pages/Setting/faq/index.tsx","node_modules/@ant-design/pro-components/es/index.js","src/components/Base/BaseModel.tsx"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'src/pages/Setting/faq/index.tsx',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='6614735900002356321';;\n  },\n);\n","import BaseIndex from \"@/components/Base/BaseIndex\";\nimport BaseSearch from \"@/components/Base/BaseSearch\";\nimport BaseTable from \"@/components/Base/BaseTable\";\nimport { _getAllOrg } from \"@/services/org/info\";\nimport { ActionType, ProFormText } from \"@ant-design/pro-components\";\nimport { useRequest } from \"@umijs/max\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Helper from \"@/util/searchHelper\";\nimport { message } from \"antd\";\nimport { LandownerAdvancedStatus } from \"@/services/commonType\";\nimport { _getAllWaitingAdvancedOrg } from \"@/services/org/advanced\";\nimport { _getAlWithdrawal } from \"@/services/withdrawal/info\";\nimport { QuestionTableColumns } from \"./columns\";\nimport { _getAllFaq } from \"@/services/setting/faq\";\nimport BaseModel from \"@/components/Base/BaseModel\";\nexport default function Index() {\n  /**********************************狀態管理**********************************/\n\n  const actionRef = useRef<ActionType>();\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [reload, setReload] = useState(() => actionRef.current?.reload);\n  const [allOrgData, setAllOrgData] = useState<any[]>([]);\n  useEffect(() => {\n    setReload(() => actionRef.current?.reload);\n  }, []);\n\n  /**********************************狀態管理**********************************/\n  /**********************************組件初始化**********************************/\n  /**********************************組件初始化**********************************/\n  /**********************************異步函數**********************************/\n\n  /**********************************異步函數**********************************/\n  return (\n    <div>\n      <BaseIndex title=\"FAQ page\">\n        <BaseSearch\n          title=\"Search bar\"\n          submitFun={actionRef.current?.reload}\n          inputProps={{\n            value: searchKey,\n            onChange: ({ currentTarget: { value } }) => setSearchKey(value),\n          }}\n        />\n        <BaseTable<any>\n          searchKey={searchKey}\n          props={{\n            headerTitle: \"Withdrawal approval List\",\n            actionRef: actionRef,\n            optionsRender(props, defaultDom) {\n              const createFaq = (\n                <BaseModel title=\"New faq\">\n                  <ProFormText></ProFormText>\n                </BaseModel>\n              );\n              return [...defaultDom];\n            },\n            columns: QuestionTableColumns({\n              mainTableReload: reload,\n            }),\n            request: async () => {\n              const dataSource = await _getAllFaq().then(({ data }) => {\n                console.log(\"withdrawal data: \", data);\n                return {\n                  success: true,\n                  data: data,\n                };\n              });\n              if (searchKey) {\n                dataSource.data = Helper<Page_org.mainTable>({\n                  dataSource: dataSource.data,\n                  keyWord: searchKey,\n                }) as Page_org.mainTable[];\n\n                return dataSource;\n              } else {\n                return dataSource;\n              }\n            },\n          }}\n        />\n      </BaseIndex>\n    </div>\n  );\n}\n","export * from '@ant-design/pro-card';\nexport * from '@ant-design/pro-descriptions';\nexport * from '@ant-design/pro-field';\nexport * from '@ant-design/pro-form';\nexport * from '@ant-design/pro-layout';\nexport * from '@ant-design/pro-list';\nexport * from '@ant-design/pro-provider';\nexport * from '@ant-design/pro-skeleton';\nexport * from '@ant-design/pro-table';\nexport * from '@ant-design/pro-utils';\n// @ts-ignore\nexport * from \"./version\";","import { InfoCircleOutlined } from \"@ant-design/icons\";\nimport {\n  ModalForm,\n  ModalFormProps,\n  ProFormInstance,\n} from \"@ant-design/pro-components\";\nimport { Button, ModalProps } from \"antd\";\nimport { ReactElement, useRef, useState } from \"react\";\nexport default function BaseModel<\n  T = Record<string, any>,\n  U = Record<string, any>,\n>({\n  children,\n  modalFormProps,\n  title,\n  initData,\n  readOnly,\n  modalProps,\n  loading = false,\n  allowUpdate = true,\n  submit,\n}: {\n  modalFormProps?: ModalFormProps<T, U>;\n  modalProps?: ModalProps;\n  children: ReactElement[] | ReactElement;\n  title: string;\n  initData?: Record<string, any>;\n  readOnly?: boolean;\n  allowUpdate?: boolean;\n  submit?: () => void;\n  loading?: boolean;\n}) {\n  /**********************************狀態管理**********************************/\n  const [readonly, setReadonly] = useState(true);\n  const formRef = useRef<ProFormInstance>();\n  //   useEffect(() => {\n  //     formRef.current?.setFieldsValue(initData);\n  //   }, [initData]);\n  /**********************************狀態管理**********************************/\n  /**********************************組件初始化**********************************/\n  /**********************************組件初始化**********************************/\n  /**********************************異步函數**********************************/\n  /**********************************異步函數**********************************/\n  return (\n    <ModalForm<T, U>\n      autoComplete={\"nope\"}\n      trigger={<Button type=\"text\" icon={<InfoCircleOutlined />}></Button>}\n      title={\n        <div className=\"w-[auto] pl-[0px] pr-[68px] pb-4 flex justify-between\">\n          <div className=\"py-[4px]\">{title}</div>\n          {allowUpdate && (\n            <div className=\"flex gap-[8px]\">\n              {readonly ? (\n                <></>\n              ) : (\n                <Button\n                  type=\"primary\"\n                  onClick={() => {\n                    if (submit) {\n                      submit();\n                    }\n                    setReadonly(true);\n                  }}\n                >\n                  提交\n                </Button>\n              )}\n              <Button\n                type=\"text\"\n                style={{\n                  display: \"flex\",\n                  color: readonly ? \"#1890FF\" : \"black\",\n                  backgroundColor: readonly ? \"\" : \"#CCCCCC\",\n                  alignItems: \"start\",\n                }}\n                onClick={() => {\n                  setReadonly((pre) => !pre);\n                }}\n              >\n                {readonly ? \"修改\" : \"取消\"}\n              </Button>\n            </div>\n          )}\n        </div>\n      }\n      modalProps={{\n        destroyOnClose: true,\n        centered: true,\n        bodyStyle: {\n          maxHeight: \"55vh\",\n          overflow: \"scroll\",\n          overflowX: \"hidden\",\n        },\n        onCancel: () => {\n          setReadonly(true);\n        },\n        ...modalProps,\n      }}\n      grid={true}\n      readonly={readOnly ?? readonly}\n      submitter={false}\n      {...modalFormProps}\n    >\n      {children}\n    </ModalForm>\n  );\n}\n"],"names":[],"mappings":"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"}