{"version":3,"sources":["src_pages_Setting_faq_index_tsx-async.17054646846667672596.hot-update.js","src/pages/Setting/faq/index.tsx"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'src/pages/Setting/faq/index.tsx',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='8318397816851269549';;\n  },\n);\n","import BaseIndex from \"@/components/Base/BaseIndex\";\nimport BaseSearch from \"@/components/Base/BaseSearch\";\nimport BaseTable from \"@/components/Base/BaseTable\";\nimport { _getAllOrg } from \"@/services/org/info\";\nimport { ActionType, ProFormText } from \"@ant-design/pro-components\";\nimport { useRequest } from \"@umijs/max\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Helper from \"@/util/searchHelper\";\nimport { Button, message } from \"antd\";\nimport { LandownerAdvancedStatus } from \"@/services/commonType\";\nimport { _getAllWaitingAdvancedOrg } from \"@/services/org/advanced\";\nimport { _getAlWithdrawal } from \"@/services/withdrawal/info\";\nimport { QuestionTableColumns } from \"./columns\";\nimport { _getAllFaq, _postFaq } from \"@/services/setting/faq\";\nimport BaseModel from \"@/components/Base/BaseModel\";\nimport { PlusSquareOutlined } from \"@ant-design/icons\";\nexport default function Index() {\n  /**********************************狀態管理**********************************/\n\n  const actionRef = useRef<ActionType>();\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [reload, setReload] = useState(() => actionRef.current?.reload);\n  const [allOrgData, setAllOrgData] = useState<any[]>([]);\n  useEffect(() => {\n    setReload(() => actionRef.current?.reload);\n  }, []);\n\n  /**********************************狀態管理**********************************/\n  /**********************************組件初始化**********************************/\n  /**********************************組件初始化**********************************/\n  /**********************************異步函數**********************************/\n\n  /**********************************異步函數**********************************/\n  return (\n    <div>\n      <BaseIndex title=\"FAQ page\">\n        <BaseSearch\n          title=\"Search bar\"\n          submitFun={actionRef.current?.reload}\n          inputProps={{\n            value: searchKey,\n            onChange: ({ currentTarget: { value } }) => setSearchKey(value),\n          }}\n        />\n        <BaseTable<any>\n          searchKey={searchKey}\n          props={{\n            headerTitle: \"Withdrawal approval List\",\n            actionRef: actionRef,\n            optionsRender(props, defaultDom) {\n              const createFaq = (\n                <BaseModel<API_Setting.CreateFaq>\n                  allowUpdate={false}\n                  readOnly={false}\n                  modalFormProps={{\n                    onFinish: async (value) => {\n                      await _postFaq(value);\n                    },\n                    grid: true,\n                    trigger: (\n                      <Button icon={<PlusSquareOutlined />} type=\"text\" />\n                    ),\n                    submitter: {\n                      searchConfig: {\n                        resetText: \"reset\",\n                        submitText: \"confirm\",\n                      },\n                    },\n                  }}\n                  title=\"New faq\"\n                >\n                  <ProFormText\n                    colProps={{ span: 18 }}\n                    label=\"Question\"\n                    name=\"question\"\n                  />\n                  <ProFormText\n                    colProps={{ span: 18 }}\n                    label=\"Answer\"\n                    name=\"answer\"\n                  />\n                </BaseModel>\n              );\n              return [createFaq, ...defaultDom];\n            },\n            columns: QuestionTableColumns({\n              mainTableReload: reload,\n            }),\n            request: async () => {\n              const dataSource = await _getAllFaq().then(({ data }) => {\n                console.log(\"withdrawal data: \", data);\n                return {\n                  success: true,\n                  data: data,\n                };\n              });\n              if (searchKey) {\n                dataSource.data = Helper<Page_org.mainTable>({\n                  dataSource: dataSource.data,\n                  keyWord: searchKey,\n                }) as Page_org.mainTable[];\n\n                return dataSource;\n              } else {\n                return dataSource;\n              }\n            },\n          }}\n        />\n      </BaseIndex>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,WAAW,mBAAmB,CAC5B,mCACA;IACE,SAAS;;;;;;wCCab;;;2BAAwB;;;;;;;uFAhBF;wFACC;uFACD;kDAEkB;oFAEW;0FAChC;yCACa;4CAIK;wCACA;uFACf;0CACa;;;;;;;;;;YACpB,SAAS;oBAsBH;;gBArBnB,wEAAwE,GAExE,MAAM,YAAY,IAAA,aAAM;gBACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,eAAQ,EAAC;gBAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,eAAQ,EAAC;wBAAM;4BAAA,qBAAA,UAAU,OAAO,cAAjB,yCAAA,mBAAmB,MAAM;;gBACpE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,eAAQ,EAAQ,EAAE;gBACtD,IAAA,gBAAS,EAAC;oBACR,UAAU;4BAAM;gCAAA,qBAAA,UAAU,OAAO,cAAjB,yCAAA,mBAAmB,MAAM;;gBAC3C,GAAG,EAAE;gBAEL,wEAAwE,GACxE,yEAAyE,GACzE,yEAAyE,GACzE,wEAAwE,GAExE,wEAAwE,GACxE,qBACE,2BAAC;8BACC,cAAA,2BAAC,kBAAS;wBAAC,OAAM;;0CACf,2BAAC,mBAAU;gCACT,OAAM;gCACN,SAAS,GAAE,qBAAA,UAAU,OAAO,cAAjB,yCAAA,mBAAmB,MAAM;gCACpC,YAAY;oCACV,OAAO;oCACP,UAAU,CAAC,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,GAAK,aAAa;gCAC3D;;;;;;0CAEF,2BAAC,kBAAS;gCACR,WAAW;gCACX,OAAO;oCACL,aAAa;oCACb,WAAW;oCACX,eAAc,KAAK,EAAE,UAAU;wCAC7B,MAAM,0BACJ,2BAAC,kBAAS;4CACR,aAAa;4CACb,UAAU;4CACV,gBAAgB;gDACd,UAAU,OAAO;oDACf,MAAM,IAAA,aAAQ,EAAC;gDACjB;gDACA,MAAM;gDACN,uBACE,2BAAC,YAAM;oDAAC,oBAAM,2BAAC,yBAAkB;oDAAK,MAAK;;gDAE7C,WAAW;oDACT,cAAc;wDACZ,WAAW;wDACX,YAAY;oDACd;gDACF;4CACF;4CACA,OAAM;;8DAEN,2BAAC,0BAAW;oDACV,UAAU;wDAAE,MAAM;oDAAG;oDACrB,OAAM;oDACN,MAAK;;8DAEP,2BAAC,0BAAW;oDACV,UAAU;wDAAE,MAAM;oDAAG;oDACrB,OAAM;oDACN,MAAK;;;;wCAIX,OAAO;4CAAC;+CAAc;yCAAW;oCACnC;oCACA,SAAS,IAAA,6BAAoB,EAAC;wCAC5B,iBAAiB;oCACnB;oCACA,SAAS;wCACP,MAAM,aAAa,MAAM,IAAA,eAAU,IAAG,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE;4CAClD,QAAQ,GAAG,CAAC,qBAAqB;4CACjC,OAAO;gDACL,SAAS;gDACT,MAAM;4CACR;wCACF;wCACA,IAAI,WAAW;4CACb,WAAW,IAAI,GAAG,IAAA,qBAAM,EAAqB;gDAC3C,YAAY,WAAW,IAAI;gDAC3B,SAAS;4CACX;4CAEA,OAAO;wCACT,OACE,OAAO;oCAEX;gCACF;;;;;;;;;;;;;;;;;YAKV;eAhGwB;iBAAA;;;;;;;;;;;;;;;;;;;;;;;;;IDbV;AACZ,GACA,SAAU,OAAO;IACf,QAAQ,EAAE,GAAC;;AACb"}