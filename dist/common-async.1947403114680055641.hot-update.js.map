{"version":3,"sources":["common-async.1947403114680055641.hot-update.js","src/pages/Approve/withdraw/detailModal.tsx","src/services/commonType.ts"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'common',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='3946342043154242040';;\n  },\n);\n","import BaseModel from \"@/components/Base/BaseModel\";\nimport { _getOrgById } from \"@/services/org/info\";\nimport {\n  ProForm,\n  ProFormField,\n  ProFormGroup,\n  ProFormInstance,\n  ProFormRate,\n  ProFormSelect,\n  ProFormText,\n  ProFormTextArea,\n  ProTable,\n} from \"@ant-design/pro-components\";\nimport { Divider, Image, message, Popconfirm, Progress } from \"antd\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Line } from \"@ant-design/charts\";\nimport { useModel } from \"@umijs/max\";\nimport {\n  _passOrgAdvanceApprove,\n  _rejectOrgAdvanceApprove,\n} from \"@/services/org/advanced\";\nimport { WithdrawalProgress } from \"@/services/commonType\";\n\nexport default function DetailModal({\n  initData,\n  mainTableReload,\n}: {\n  mainTableReload: (() => Promise<void>) | undefined;\n\n  initData?: Page_org.mainTable;\n}) {\n  /**********************************狀態管理**********************************/\n  const formRef = useRef<ProFormInstance>();\n  const [org, setOrg] = useState<Record<string, any>>();\n  const [rejectData, setRejectData] = useState<{\n    orgId: string;\n    reason: string;\n  }>();\n  const leftFile = { span: 8, offset: 0 };\n  const rightFile = { span: 8, offset: 6 };\n  /**********************************狀態管理**********************************/\n  /**********************************組件初始化**********************************/\n  const groupStyle: React.CSSProperties = {\n    backgroundColor: \"white\",\n    paddingLeft: \"24px\",\n    paddingRight: \"24px\",\n    paddingTop: \"6px\",\n    borderBottom: 3,\n    borderColor: \"black\",\n  };\n  /**********************************組件初始化**********************************/\n  /**********************************異步函數**********************************/\n  // const fetchOrgData = async (id: string) => {\n  //   try {\n  //     const res = await _getOrgById(id);\n  //     console.log(\"res.data\", res.data);\n  //     setOrg(res.data);\n  //     formRef.current?.setFieldsValue(res.data);\n  //   } catch (error) {\n  //     console.error(\"获取组织数据失败:\", error);\n  //   }\n  // };\n  /**********************************異步函數**********************************/\n  return (\n    <BaseModel<Page_org.mainTable>\n      modalFormProps={{\n        submitter: {\n          searchConfig: {\n            resetText: \"Reject\",\n            submitText: \"Approve\",\n          },\n          resetButtonProps: {\n            preventDefault: true,\n            onClick: (e) => {\n              // e.preventDefault();\n            },\n          },\n          render: (_, dom) => {\n            const restButton = dom[0];\n            const newRestButton = (\n              <>\n                <BaseModel\n                  allowUpdate={false}\n                  readOnly={false}\n                  title=\"Confirmation reject\"\n                  modalFormProps={{\n                    onFinish: async (values) => {\n                      // console.log(\"values\", values);\n                      try {\n                        await _rejectOrgAdvanceApprove({\n                          id: org?._id,\n                          reason: values.reason,\n                        });\n                        message.success(\"Reject success\");\n                      } catch (error) {\n                        message.error(\"Reject failed\" + error);\n                      } finally {\n                        await mainTableReload?.();\n                        return true;\n                      }\n                    },\n                    width: \"650px\",\n                    submitter: {\n                      searchConfig: {\n                        submitText: \"Yes\",\n                        resetText: \"No\",\n                      },\n                    },\n                    trigger: restButton,\n                  }}\n                >\n                  <Divider\n                    children=\"Reason\"\n                    orientation=\"left\"\n                    orientationMargin={20}\n                  />\n                  <ProFormTextArea\n                    required={true}\n                    rules={[\n                      {\n                        required: true,\n                        message: \"Please enter the reason for rejection\",\n                      },\n                    ]}\n                    fieldProps={{\n                      placeholder: \"Please enter the reason for rejection\",\n                    }}\n                    name=\"reason\"\n                    colProps={{ span: 18 }}\n                  />\n                </BaseModel>\n                {/* <Popconfirm\n                  title=\"Are you sure you want to reject this account?\"\n                  onConfirm={() => {\n                    restButton.props.onClick(restButton.props.event);\n                  }}\n                  okText=\"Yes\"\n                  cancelText=\"No\"\n                >\n                  {restButton}\n                </Popconfirm> */}\n              </>\n            );\n            return [newRestButton, dom[1]];\n          },\n        },\n        formRef: { ...formRef },\n        clearOnDestroy: true,\n        onFinish: async (values) => {\n          console.log(\"values\", values);\n          try {\n            await _passOrgAdvanceApprove({ id: values._id });\n            message.success(\"Pass success\");\n          } catch (error) {\n            message.error(\"Pass failed\");\n          } finally {\n            await mainTableReload?.();\n            return true;\n          }\n        },\n      }}\n      allowUpdate={false}\n      readOnly={true}\n      // initData={org}\n\n      title=\"Account Details\"\n    >\n      <ProFormField label={\"Icon\"} name=\"icon_url\" colProps={rightFile}>\n        <Image src={org?.icon_url.url} width={100} />\n      </ProFormField>\n\n      <ProFormSelect\n        label=\"Account Advanced Status\"\n        name=\"advanced_status\"\n        fieldProps={{\n          labelInValue: false,\n        }}\n        colProps={leftFile}\n        valueEnum={WithdrawalProgress}\n      />\n    </BaseModel>\n  );\n}\n","interface CommonResponse<T> {\n  detail: T;\n}\nexport enum EventStatus {\n  NORMAL,\n  CANCEL,\n  SUSPEND,\n}\nexport enum LandownerAdvancedStatus {\n  UNAPPROVED,\n  WAITING,\n  APPROVED,\n}\nexport enum LandownerWithdrawApprovalStatus {\n  WAITING,\n  APPROVED,\n  DENIED,\n  COMPLETED,\n}\nexport enum Role {\n  LANDOWNER,\n  PLATFORM,\n  TENANT,\n}\n\nexport enum Gender {\n  MAN,\n  WOMAN,\n  OTHER,\n}\nexport enum EventType {\n  SINGLE = \"single\",\n  MULTI = \"multi\",\n  RECURRING = \"recurring\",\n}\nexport enum OtpStatusType {\n  UNVERIFIED,\n  VERIFIED,\n  REGISTERED,\n  FORGET_PASSWORD,\n}\nexport enum OtpRole {\n  LANDOWNER,\n  TENANT,\n}\n\nexport enum EStallPaymentStatus {\n  Waiting = \"Waiting\",\n  Accept = \"Accept\",\n  Denied = \"Denied\",\n  Paid = \"Paid\",\n  Refunded = \"Refunded\",\n  Expired = \"Expired\",\n}\n\nexport enum EApplicationFeeStatus {\n  Waiting = \"Waiting\",\n  Paid = \"Paid\",\n  Fee_Not_Enough = \"Fee_Not_Enough\",\n}\n\nexport enum ELogType {\n  STRIPE_WEB_HOOK = \"STRIPE_WEB_HOOK\",\n}\n\nexport enum EWebhookEvents {\n  CHECKOUT_SESSION_ASYNC_PAYMENT_FAILED = \"checkout.session.async_payment_failed\",\n  CHECKOUT_SESSION_ASYNC_PAYMENT_SUCCEEDED = \"checkout.session.async_payment_succeeded\",\n  CHECKOUT_SESSION_COMPLETED = \"checkout.session.completed\",\n  CHECKOUT_SESSION_EXPIRED = \"checkout.session.expired\",\n  REFUND_UPDATED = \"refund.updated\",\n  REFUND_CREATED = \"refund.created\",\n  REFUND_FAILED = \"refund.failed\",\n  CHARGE_REFUNDED = \"charge.refunded\",\n}\n\nexport enum ERateStatus {\n  READY = \"READY\",\n  COMMENTED = \"COMMENTED\",\n  NOT_READY = \"NOT_READY\",\n}\nexport enum WithdrawalProgress {\n  WAITING_FOR_APPROVE = \"WAITING_FOR_APPROVE\",\n  APPROVED_PROGRESSING = \"APPROVED_PROGRESSING\", // Deduct wallet amount here\n  APPROVED_COMPLETED = \"APPROVED_COMPLETED\",\n  REJECTED = \"REJECTED\",\n}\n"],"names":[],"mappings":"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"}