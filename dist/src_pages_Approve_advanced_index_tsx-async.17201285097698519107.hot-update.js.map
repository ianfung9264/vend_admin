{"version":3,"sources":["src_pages_Approve_advanced_index_tsx-async.17201285097698519107.hot-update.js","src/pages/Approve/advanced/detailModal.tsx"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'src/pages/Approve/advanced/index.tsx',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='1837654683156804112';;\n  },\n);\n","import BaseModel from \"@/components/Base/BaseModel\";\nimport { _getOrgById } from \"@/services/org/info\";\nimport {\n  ProForm,\n  ProFormField,\n  ProFormGroup,\n  ProFormInstance,\n  ProFormRate,\n  ProFormSelect,\n  ProFormText,\n  ProFormTextArea,\n  ProTable,\n} from \"@ant-design/pro-components\";\nimport { Divider, Image, Progress } from \"antd\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Line } from \"@ant-design/charts\";\n\nexport default function DetailModal({\n  initData,\n  mainTableReload,\n}: {\n  mainTableReload: (() => Promise<void>) | undefined;\n\n  initData?: Page_org.mainTable;\n}) {\n  /**********************************狀態管理**********************************/\n  const formRef = useRef<ProFormInstance>();\n  const [org, setOrg] = useState<Record<string, any>>();\n  const [ratingDistribution, setRatingDistribution] = useState<\n    Record<string, any>[]\n  >([]);\n  const leftFile = { span: 8, offset: 0 };\n  const rightFile = { span: 8, offset: 6 };\n  /**********************************狀態管理**********************************/\n  /**********************************組件初始化**********************************/\n  const groupStyle: React.CSSProperties = {\n    backgroundColor: \"white\",\n    paddingLeft: \"24px\",\n    paddingRight: \"24px\",\n    paddingTop: \"6px\",\n    borderBottom: 3,\n    borderColor: \"black\",\n  };\n  /**********************************組件初始化**********************************/\n  /**********************************異步函數**********************************/\n  // const fetchOrgData = async (id: string) => {\n  //   try {\n  //     const res = await _getOrgById(id);\n  //     console.log(\"res.data\", res.data);\n  //     setOrg(res.data);\n  //     formRef.current?.setFieldsValue(res.data);\n  //   } catch (error) {\n  //     console.error(\"获取组织数据失败:\", error);\n  //   }\n  // };\n  /**********************************異步函數**********************************/\n  return (\n    <BaseModel<Page_org.mainTable>\n      modalFormProps={{\n        formRef: { ...formRef },\n        clearOnDestroy: true,\n        onInit: async (values, form) => {\n          if (initData?._id) {\n            const res = await _getOrgById(initData._id);\n            // res.data.beFollowedCount = res.data.beFollowedCount.length;\n            console.log(\"res.data\", res.data);\n            setOrg(res.data);\n            form.setFieldsValue(res.data);\n            try {\n              const rating_distribution = Object.keys(\n                res.data.rating_distribution\n              ).map((key) => {\n                return { star: key, count: res.data.rating_distribution[key] };\n              });\n              setRatingDistribution(rating_distribution);\n            } catch (error) {\n              console.log(\"获取评分分布失败:\", error);\n            }\n          }\n        },\n      }}\n      allowUpdate={false}\n      readOnly={true}\n      // initData={org}\n\n      title=\"Account Details\"\n    >\n      <Divider\n        children=\"Basic Information\"\n        orientation=\"left\"\n        orientationMargin={20}\n      />\n      <ProForm.Group style={{ ...groupStyle }}>\n        <ProFormText\n          label={\"Id\"}\n          name=\"_id\"\n          // fieldProps={{\n          //   value: initData?._id,\n          // }}\n          colProps={leftFile}\n          readonly\n        />\n        <ProFormField label={\"Icon\"} name=\"icon_url\" colProps={rightFile}>\n          <Image src={org?.icon_url.url} width={100} />\n        </ProFormField>\n\n        <ProFormSelect\n          label=\"Account Advanced Status\"\n          name=\"advanced_status\"\n          fieldProps={{\n            labelInValue: false,\n          }}\n          colProps={leftFile}\n          valueEnum={{\n            0: { text: \"Unapproved\", status: \"Error\" },\n            1: { text: \"Waiting\", status: \"Processing\" },\n            2: { text: \"Approved\", status: \"Success\" },\n          }}\n        />\n        <ProFormText\n          label={\"Email\"}\n          name=\"email\"\n          colProps={rightFile}\n          readonly\n        />\n        <ProFormText\n          label={\"phone pre\"}\n          name=\"phone_pre\"\n          colProps={leftFile}\n          readonly\n        />\n\n        <ProFormText\n          label={\"phone\"}\n          name=\"phone\"\n          colProps={rightFile}\n          readonly\n        />\n        <ProFormField\n          label={\"Wallet\"}\n          name=\"wallet\"\n          colProps={leftFile}\n          valueType=\"money\"\n        />\n\n        <ProFormField\n          label={\"Event operation license\"}\n          name=\"event_operation_license\"\n          colProps={{ span: 8, offset: 6 }}\n        >\n          <Image src={org?.event_operation_license.url} width={100} />\n        </ProFormField>\n      </ProForm.Group>\n\n      <Divider\n        children=\"Business info\"\n        orientation=\"left\"\n        orientationMargin={20}\n      />\n\n      <ProForm.Group style={{ ...groupStyle }}>\n        <ProFormText\n          label={\"Business name\"}\n          name=\"business_name\"\n          colProps={{ span: 8, offset: 0 }}\n        />\n        <ProFormText\n          label={\"Business full name\"}\n          name=\"business_full_name\"\n          colProps={{ span: 8, offset: 6 }}\n        />\n        <ProFormText\n          label={\"Business url\"}\n          name=\"business_url\"\n          colProps={{ span: 8, offset: 0 }}\n        />\n\n        <ProFormText\n          label={\"Facebook url\"}\n          name=\"facebook_url\"\n          colProps={{ span: 8, offset: 6 }}\n        />\n        <ProFormText\n          label={\"Instagram url\"}\n          name=\"ins_url\"\n          colProps={{ span: 8, offset: 0 }}\n        />\n        <ProFormText\n          label={\"X url\"}\n          name=\"x_url\"\n          colProps={{ span: 8, offset: 6 }}\n        />\n        <ProFormText\n          label={\"Legal person name\"}\n          fieldProps={{\n            value:\n              org?.legal_person_first_name + \" \" + org?.legal_person_last_name,\n          }}\n          colProps={{ span: 8, offset: 0 }}\n        />\n      </ProForm.Group>\n      <ProForm.Group style={{ ...groupStyle }}>\n        <ProFormField colProps={{ span: 24 }}>\n          <ProTable\n            search={false}\n            toolBarRender={false}\n            pagination={false}\n            columns={[\n              { title: \"Card name\", dataIndex: \"card_type\" },\n              { title: \"Card info\", dataIndex: \"card_info\" },\n              { title: \"Card cvv code\", dataIndex: \"cvv_code\" },\n              { title: \"Card expiration date\", dataIndex: \"expire_date\" },\n            ]}\n            dataSource={org?.bank_info}\n          />\n        </ProFormField>\n      </ProForm.Group>\n\n      <Divider\n        children=\"Business address info\"\n        orientation=\"left\"\n        orientationMargin={20}\n      />\n      <ProForm.Group style={{ ...groupStyle }}>\n        <ProFormText\n          colProps={{ span: 4, offset: 0 }}\n          label={\"Country\"}\n          fieldProps={{\n            value: org?.business_address.country,\n          }}\n        />\n        <ProFormText\n          label={\"City\"}\n          colProps={{ span: 4, offset: 6 }}\n          fieldProps={{\n            value: org?.business_address.city,\n          }}\n        />\n        <ProFormText\n          label={\"Address\"}\n          colProps={{ span: 4, offset: 6 }}\n          fieldProps={{\n            value: org?.business_address.address,\n          }}\n        />\n        <ProFormField\n          label={\"Shoot photo\"}\n          name=\"shoot_photo\"\n          colProps={{ span: 8, offset: 0 }}\n        >\n          {org?.pictures.map((pic: any) => <Image src={pic.url} width={100} />)}\n        </ProFormField>\n      </ProForm.Group>\n      <Divider children=\"Others\" orientation=\"left\" orientationMargin={20} />\n\n      <ProForm.Group style={{ ...groupStyle }}>\n        <ProFormTextArea label={\"Bio\"} name=\"blurb\" colProps={{ span: 8 }} />\n        <ProFormTextArea\n          label={\"Rating average\"}\n          name=\"rating_average\"\n          colProps={{ span: 8, offset: 6 }}\n        />\n        <ProFormField label={\"Rating average\"}>\n          <Line\n            data={ratingDistribution}\n            height={200}\n            width={700}\n            xField=\"star\"\n            yField=\"count\"\n          />\n        </ProFormField>\n      </ProForm.Group>\n    </BaseModel>\n  );\n}\n"],"names":[],"mappings":"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"}