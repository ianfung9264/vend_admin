{"version":3,"sources":["common-async.5450185541061744306.hot-update.js","src/components/Base/BaseModel.tsx"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'common',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='1493302006910394419';;\n  },\n);\n","import { InfoCircleOutlined } from \"@ant-design/icons\";\nimport {\n  ModalForm,\n  ModalFormProps,\n  ProFormInstance,\n} from \"@ant-design/pro-components\";\nimport { Button, ModalProps } from \"antd\";\nimport { ReactElement, useRef, useState } from \"react\";\nexport default function BaseModel<\n  T = Record<string, any>,\n  U = Record<string, any>,\n>({\n  children,\n  modalFormProps,\n  title,\n  initData,\n  readOnly,\n  modalProps,\n  loading = false,\n  allowUpdate = true,\n  submit,\n}: {\n  modalFormProps?: ModalFormProps<T, U>;\n  modalProps?: ModalProps;\n  children: ReactElement[] | ReactElement;\n  title: string;\n  initData?: Record<string, any>;\n  readOnly?: boolean;\n  allowUpdate?: boolean;\n  submit?: () => void;\n  loading?: boolean;\n}) {\n  /**********************************狀態管理**********************************/\n  const [readonly, setReadonly] = useState(true);\n  const formRef = useRef<ProFormInstance>();\n  //   useEffect(() => {\n  //     formRef.current?.setFieldsValue(initData);\n  //   }, [initData]);\n  /**********************************狀態管理**********************************/\n  /**********************************組件初始化**********************************/\n  /**********************************組件初始化**********************************/\n  /**********************************異步函數**********************************/\n  /**********************************異步函數**********************************/\n  return (\n    <ModalForm<T, U>\n      autoComplete={\"nope\"}\n      trigger={<Button type=\"text\" icon={<InfoCircleOutlined />}></Button>}\n      title={\n        <div className=\"w-[auto] pl-[0px] pr-[68px] pb-4 flex justify-between\">\n          <div className=\"py-[4px]\">{title}</div>\n          {allowUpdate && (\n            <div className=\"flex gap-[8px]\">\n              {readonly ? (\n                <></>\n              ) : (\n                <Button\n                  type=\"primary\"\n                  onClick={() => {\n                    if (submit) {\n                      submit();\n                    }\n                    setReadonly(true);\n                  }}\n                >\n                  提交\n                </Button>\n              )}\n              <Button\n                type=\"text\"\n                style={{\n                  display: \"flex\",\n                  color: readonly ? \"#1890FF\" : \"black\",\n                  backgroundColor: readonly ? \"\" : \"#CCCCCC\",\n                  alignItems: \"start\",\n                }}\n                onClick={() => {\n                  setReadonly((pre) => !pre);\n                }}\n              >\n                {readonly ? \"修改\" : \"取消\"}\n              </Button>\n            </div>\n          )}\n        </div>\n      }\n      modalProps={{\n        destroyOnClose: true,\n        centered: true,\n        bodyStyle: {\n          maxHeight: \"55vh\",\n          minHeight: \"30vh\",\n          overflow: \"scroll\",\n        },\n        onCancel: () => {\n          setReadonly(true);\n        },\n        ...modalProps,\n      }}\n      grid={true}\n      readonly={readOnly ?? readonly}\n      submitter={false}\n      {...modalFormProps}\n    >\n      {children}\n    </ModalForm>\n  );\n}\n"],"names":[],"mappings":"AAAA,WAAW,mBAAmB,CAC5B,UACA;IACE,SAAS;;;;;;wCCKb;;;2BAAwB;;;;;;0CARW;kDAK5B;yCAC4B;0CACY;;;;;;;;;;YAChC,SAAS,UAGtB,EACA,QAAQ,EACR,cAAc,EACd,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,UAAU,EACV,UAAU,KAAK,EACf,cAAc,IAAI,EAClB,MAAM,EAWP;;gBACC,wEAAwE,GACxE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,eAAQ,EAAC;gBACzC,MAAM,UAAU,IAAA,aAAM;gBACtB,sBAAsB;gBACtB,iDAAiD;gBACjD,oBAAoB;gBACpB,wEAAwE,GACxE,yEAAyE,GACzE,yEAAyE,GACzE,wEAAwE,GACxE,wEAAwE,GACxE,qBACE,2BAAC,wBAAS;oBACR,cAAc;oBACd,uBAAS,2BAAC,YAAM;wBAAC,MAAK;wBAAO,oBAAM,2BAAC,yBAAkB;;oBACtD,qBACE,2BAAC;wBAAI,WAAU;;0CACb,2BAAC;gCAAI,WAAU;0CAAY;;4BAC1B,6BACC,2BAAC;gCAAI,WAAU;;oCACZ,yBACC,uFAEA,2BAAC,YAAM;wCACL,MAAK;wCACL,SAAS;4CACP,IAAI,QACF;4CAEF,YAAY;wCACd;kDACD;;kDAIH,2BAAC,YAAM;wCACL,MAAK;wCACL,OAAO;4CACL,SAAS;4CACT,OAAO,WAAW,YAAY;4CAC9B,iBAAiB,WAAW,KAAK;4CACjC,YAAY;wCACd;wCACA,SAAS;4CACP,YAAY,CAAC,MAAQ,CAAC;wCACxB;kDAEC,WAAW,OAAO;;;;;;oBAM7B,YAAY;wBACV,gBAAgB;wBAChB,UAAU;wBACV,WAAW;4BACT,WAAW;4BACX,WAAW;4BACX,UAAU;wBACZ;wBACA,UAAU;4BACR,YAAY;wBACd;wBACA,GAAG,UAAU;oBACf;oBACA,MAAM;oBACN,UAAU,YAAY;oBACtB,WAAW;oBACV,GAAG,cAAc;8BAEjB;;;;;;YAGP;eAlGwB;iBAAA;;;;;;;;;;;;;;;;;;;;;;;;;IDLV;AACZ,GACA,SAAU,OAAO;IACf,QAAQ,EAAE,GAAC;;AACb"}